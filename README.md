# be11-1st-1team-PetLeader
## PET LEADER~!!🐶🩷
![petleader배너](./dir/images/배너.gif)
> **훈련사와 반려견 패밀리를 이어주는 플랫폼** <br>
> **개발기간: 2024.12.02 ~ 2024.12.03**

---

## 👍Team All for joonhyuk 팀원소개
|🐻고준혁|🐹최영재|🐰한성민|🐻‍❄️홍성혁|
|:-:|:-:|:-:|:-:|
|<img src="https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/%EA%B3%A0.jpg">|<img src="https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/%EC%B5%9C.png">|<img src="https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/%ED%95%9C.jpg">|<img src="https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/%ED%99%8D.jpg">|
|[@luail](https://github.com/luail)|[@impitang](https://github.com/gimpitang)|[@HanSungMin99](https://github.com/HanSungMin99)|[@dksqjq4851](https://github.com/dksqjq4851)|

---

### 🔨 기술 스택
<div>
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/mariaDB-003545?style=for-the-badge&logo=mariaDB&logoColor=white">
</div>

---
## ‼️**프로젝트 개요**

#### 추진 배경 및 목적<br>
  >강아지와 함께 생활하는 사람들이 늘어나면서, 반려견의 올바른 행동 교육과 훈련에 대한 수요도 급증하고 있습니다.<br>
   하지만 전문적인 훈련 서비스를 찾는 것이 쉽지 않으며, 서비스의 질과 가격이 천차만별이라는 문제점이 존재합니다.<br>
   이러한 문제를 해결하기 위해, 신뢰할 수 있는 강아지 훈련 서비스를 제공하고 다양한 훈련 정보를 한곳에서 확인할 수 있는 데이터베이스를 구축하게 되었습니다.<br>
   이를 통해 반려인과 훈련 서비스 제공자를 연결하여 반려견의 행동 문제를 효과적으로 해결하고, 반려견과의 조화로운 삶을 지원하는 것이 목적입니다.<br>
#### **고객층 및 기대효과**<br>
  >1.	**주요 고객층**<br>
   •	초보 반려인: 강아지 교육 방법을 잘 모르는 사람들.<br>
   •	행동 문제를 겪는 반려견의 보호자.<br>
   •	전문 훈련사가 필요한 반려인.<br>
  >2.	**기대효과**<br>
   •	반려인은 필요한 정보를 손쉽게 찾아볼 수 있고, 적합한 훈련사를 선택하여 시간과 비용을 절약할 수 있습니다.<br>
   •	훈련사는 플랫폼을 통해 더 많은 고객을 확보하고, 신뢰도를 높일 수 있습니다.<br>
   •	데이터베이스를 통해 훈련 사례 및 효과적인 프로그램을 공유함으로써 반려견 훈련 분야 전반의 발전에 기여할 수 있습니다..<br>
   •	강아지의 행동 문제 해결로 반려인의 스트레스 감소 및 반려견의 삶의 질 향상시킬 수 있습니다.<br>
   
---

## ‼️프로젝트 소개
  >이 프로젝트는 전국의 강아지 훈련 서비스 제공자를 데이터베이스로 정리하여 플랫폼화하는 것을 목표로 합니다.<br>
  >1.	**주요 기능**<br>
   •	강아지 훈련 서비스 제공하는 개인 훈련사 검색.<br>
   •	사용자 후기 및 평점 시스템 제공.<br>
   •	훈련 서비스 유형(기본 교육, 문제 행동 교정, 사회화 훈련 등) 및 가격 비교.<br>
  >2.	**서비스 방식**<br>
   •	웹사이트 및 모바일 앱을 통해 누구나 접근 가능.<br>
   •	훈련사와 반려인을 연결하는 수강신청 서비스 제공<br>
   
---

## ‼️프로젝트 필요성
  >1.	**반려견 수 증가**<br>
    반려동물을 키우는 인구가 증가함에 따라, 강아지 훈련 서비스에 대한 수요가 꾸준히 늘어나고 있습니다.<br>
  >2.	**훈련 서비스의 정보 부족**<br>
    기존에는 훈련사나 업체에 대한 정보를 구하기 어려웠으며, 신뢰할 만한 후기와 평가를 찾기 어려운 경우가 많았습니다.<br>
  >3.	**반려견 행동 문제 심화**<br>
    적절한 훈련이 이루어지지 않을 경우 반려견의 문제 행동이 심화될 가능성이 높으며, 이는 보호자와 반려견 모두에게 스트레스가 될 수 있습니다.<br>
  >4.	**반려동물 산업의 성장 가능성**<br>
    반려동물 관련 서비스는 지속적으로 성장하는 시장으로, 플랫폼화된 훈련 서비스 데이터베이스는 반려동물 산업 내에서 큰 경쟁력을 가질 수 있습니다.<br>
    이 데이터베이스 프로젝트는 반려인의 편의를 높이고, 강아지 훈련 시장을 체계적으로 정비하며, 더 나아가 반려동물 문화의 선진화를 도모하는 데 기여할 것입니다.<br>
    
---

## ‼️자료
#### 1️⃣WBS
![petleader](https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/wbs%EC%88%98%EC%A0%95.png)
     >저희 팀은 프로젝트의 모든 작업과 구성 요소를 체계적으로 나누어 관리하기 위하여 WBS를 작성하였습니다.

#### 2️⃣JIRA
![petleader](https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/jira.png)
    >저희 팀은 이슈의 우선순위를 설정하여 중요한 작업에 집중하며 효율적인 이슈 관리하고, 팀원들이 진행 상황을 쉽게 추적하기 위해서 JIRA 플랫폼을 이용하였습니다.

#### 3️⃣notion
![petleader](https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/notion.png)    
    >저희 팀은 각 단계에서 수행한 작업을 정리하고 기록하고자 notion을 이용하였습니다. <br>
    >혹시나 데이터를 잃어버릴 수 있을 것을 대비하여 테이블 생성 과정, 데이터 입력 값(최소20개 이상), 프로시저 등을 모아 정리하는데 notion을 이용하였습니다.
    
#### 4️⃣요구사항 정의 및 분석서
![petleader]()

#### 5️⃣논리적 ERD
![petleader](https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/erdcloud%EC%B5%9C%EC%A2%852.png)
    >url: https://www.erdcloud.com/d/fqt6byGLZJNG9DnEP

---

## ‼️주요 쿼리 요약
#### 1. DDL<br>
```sql
CREATE DATABASE pet;
USE pet;<br>
CREATE TABLE address(id BIGINT PRIMARY KEY AUTO_INCREMENT, state VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, street VARCHAR(255) NOT NULL);
```sql
CREATE TABLE owner (id BIGINT PRIMARY KEY AUTO_INCREMENT, password VARCHAR(255) NOT NULL, address_id BIGINT NOT NULL, name VARCHAR(30) NOT NULL, email VARCHAR(50), phone VARCHAR(255) NOT NULL,  em_phone VARCHAR(255), age INT, valid ENUM("Y","N") NOT NULL, created_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP(), nickname VARCHAR(30) NOT NULL UNIQUE, FOREIGN KEY (address_id) REFERENCES address(id));
```sql
CREATE TABLE dog ( id BIGINT PRIMARY KEY AUTO_INCREMENT, owner_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, age INT NOT NULL, gender ENUM("male","female") NOT NULL, size ENUM("소","중","대"), sign_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP(), FOREIGN KEY (owner_id) REFERENCES owner(id));
```sql
CREATE TABLE trainer(id BIGINT PRIMARY KEY AUTO_INCREMENT, nickname VARCHAR(255) NOT NULL UNIQUE, name VARCHAR(255) NOT NULL, age INT, gender ENUM('male', 'female') NOT NULL, career INT NOT NULL DEFAULT 0);
```sql
CREATE TABLE speciality( id BIGINT PRIMARY KEY AUTO_INCREMENT, name VARCHAR(255) NOT NULL, trainer_id BIGINT NOT NULL, FOREIGN KEY (trainer_id) REFERENCES trainer(id));
```sql
CREATE TABLE chat( id BIGINT PRIMARY KEY AUTO_INCREMENT, sender ENUM('보호자', '훈련사') NOT NULL, lasttime DATETIME DEFAULT CURRENT_TIMESTAMP(), contents VARCHAR(3000) NOT NULL, owner_id BIGINT, trainer_id BIGINT, FOREIGN KEY (owner_id) REFERENCES owner(id), FOREIGN KEY (trainer_id) REFERENCES trainer(id));
```sql
CREATE TABLE trainer_class (id BIGINT PRIMARY KEY NOT NULL AUTO_INCREMENT, trainer_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, fee INT NOT NULL, location VARCHAR(255) NOT NULL, class_day ENUM('월', '화', '수', '목', '금', '토', '일') NOT NULL, training_time ENUM('1교시', '2교시', '3교시', '4교시', '5교시', '6교시', '7교시', '8교시', '9교시') NOT NULL, description VARCHAR(3000) NOT NULL, size ENUM('대', '중', '소') NOT NULL, limits INT NOT NULL, current INT NOT NULL DEFAULT 0, start_date DATE NOT NULL, FOREIGN KEY (trainer_id) REFERENCES trainer(id));
```sql
CREATE TABLE owner_class(id BIGINT PRIMARY KEY AUTO_INCREMENT, owner_id BIGINT NOT NULL, trainer_class_id BIGINT NOT NULL, dog_id BIGINT NOT NULL, classjointime DATETIME DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (owner_id) REFERENCES owner(id), FOREIGN KEY (trainer_class_id) REFERENCES trainer_class(id), FOREIGN KEY (dog_id) REFERENCES dog(id));
```sql
CREATE TABLE post( post_id BIGINT PRIMARY KEY AUTO_INCREMENT, owner_class_id BIGINT NOT NULL, owner_id BIGINT NOT NULL, title VARCHAR(255) NOT NULL, contents VARCHAR(3000) NOT NULL, rating ENUM('1','2','3','4','5'), FOREIGN KEY (owner_class_id) REFERENCES owner_class(id), FOREIGN KEY (owner_id) REFERENCES owner(id));
```sql
CREATE TABLE alarm(id BIGINT PRIMARY KEY AUTO_INCREMENT, trainer_class_id BIGINT NOT NULL, owner_id BIGINT NOT NULL, created_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP(), FOREIGN KEY (trainer_class_id) REFERENCES trainer_class(id), FOREIGN KEY (owner_id) REFERENCES owner(id));<br>
```sql
CREATE TABLE coupon ( id BIGINT PRIMARY KEY AUTO_INCREMENT, discount_amount INT NOT NULL, code VARCHAR(255) NOT NULL UNIQUE, name varchar(255) not null);
```sql
CREATE TABLE owner_coupon(id BIGINT PRIMARY KEY AUTO_INCREMENT, owner_id bigint not null, coupon_id bigint not null, issue_date datetime not null default current_timestamp(), expiration_date datetime, foreign key(owner_id) references owner(id), foreign key(coupon_id) references coupon(id));
```sql
CREATE TABLE payment(id BIGINT PRIMARY KEY AUTO_INCREMENT, owner_id BIGINT NOT NULL, class_id BIGINT NOT NULL, coupon_id bigint, amount INT NOT NULL, payment_date DATETIME DEFAULT CURRENT_TIMESTAMP(), FOREIGN KEY (owner_id) REFERENCES owner(id), FOREIGN KEY (class_id) REFERENCES owner_class(id), FOREIGN KEY (coupon_id) REFERENCES owner_coupon(id));
```sql
SHOW TABLES;
```
#### 2. DML<br>
```sql
INSERT INTO address (state, city, street) VALUES ('서울특별시', '강남구', '압구정로'),('경기도', '수원시', '팔달구');
INSERT INTO owner (password, address_id, name, email, phone, em_phone, age, valid, nickname) VALUES('password1', 1, '홍길동', 'hong1@naver.com', '010-1234-5678', '010-1111-2222', 30, 'Y', 'hong1'),('password2', 2, '이영희', 'younghee2@google.com', '010-2345-6789', '010-2222-3333', 25, 'Y', 'leeyoung');
INSERT INTO dog (owner_id, name, age, gender, size) VALUES(1, '바둑이', 2, 'male', '중'),(1, '흰둥이', 1, 'female', '소');
INSERT INTO trainer (nickname, name, age, gender, career) VALUES('trainer1', '김훈련', 40, 'male', 10),('trainer2', '이훈련', 35, 'female', 8);
INSERT INTO speciality (name, trainer_id) VALUES('기본 훈련', 1),('복종 훈련', 2);
INSERT INTO chat (sender, lasttime, contents, owner_id, trainer_id) VALUES('보호자', CURRENT_TIMESTAMP(), '안녕하세요, 강아지 훈련 관련 상담 문의드립니다.', 1, 1),('훈련사', CURRENT_TIMESTAMP(), '안녕하세요! 상담 도와드리겠습니다.', 1, 1);
INSERT INTO trainer_class (trainer_id, name, fee, location, class_day, training_time, description, size, limits, current, start_date) VALUES(1, '기본 복종 훈련', 100000, '서울 강남구', '월', '1교시', '기본적인 복종 훈련 프로그램입니다.', '중', 10, 5, '2024-12-10'),(2, '사회성 향상 훈련', 120000, '서울 마포구', '화', '2교시', '강아지의 사회성을 키우는 훈련입니다.', '대', 8, 4, '2024-12-11');
INSERT INTO owner_class (owner_id, trainer_class_id, dog_id, classjointime) VALUES(1, 1, 1, CURRENT_TIMESTAMP()),(1, 2, 2, CURRENT_TIMESTAMP());
INSERT INTO post (owner_class_id, owner_id, title, contents, rating) VALUES(1, 1, '기본 복종 훈련 후기', '강아지가 말을 잘 듣게 되었어요!', '5'),(2, 2, '사회성 향상 후기', '강아지가 다른 개들과 잘 어울리게 되었어요.', '4');
INSERT INTO alarm (trainer_class_id, owner_id, created_time) VALUES(1, 1, CURRENT_TIMESTAMP()),(2, 2, CURRENT_TIMESTAMP());
INSERT INTO coupon (discount_amount, code, name) VALUES(10000, 'COUPON10', '10% 할인 쿠폰'),(15000, 'COUPON15', '15% 할인 쿠폰');
INSERT INTO owner_coupon (owner_id, coupon_id, issue_date, expiration_date) VALUES(1, 1, CURRENT_TIMESTAMP(), '2024-12-31'),(2, 2, CURRENT_TIMESTAMP(), '2024-12-31');
INSERT INTO payment (owner_id, class_id, coupon_id, amount, payment_date) VALUES(1, 1, 1, 90000, CURRENT_TIMESTAMP()),(2, 2, 2, 105000, CURRENT_TIMESTAMP());
```

---

## ‼️ 프로시저 실행결과
#### <details> <summary><b> 1. 회원가입 🔑</b></summary> <div markdown="1">
![petleader](https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85.gif)
```sql
DELIMITER //
CREATE DEFINER=root@localhost PROCEDURE 회원가입(in 시도 varchar(255), in 시군구 varchar(255), in 상세주소 varchar(255),
    in 이름 varchar(255), in 전화번호 varchar(255), in 닉네임 varchar(255), in 이메일 varchar(255), in 패스워드 varchar(255))
begin
    declare newAddressid bigint;
    insert into address (state, city, street) values(시도, 시군구, 상세주소);
    set newAddressId = Last_Insert_ID();
    insert into owner (name, phone, address_id, nickname, email, password) values(이름, 전화번호, newAddressId, 닉네임, 이메일, 패스워드);

    select * from owner;
    end
//
DELIMITER ;
```
#### <details> <summary><b> 2. 로그인 🔑</b></summary> <div markdown="1">
![petleader](https://github.com/beyond-sw-camp/be11-1st-1team-PetLeader/blob/main/dir/images/%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%98%81%EC%83%81.gif)
```sql
delimiter //
    create procedure 로그인(in 이메일 varchar(255), in 패스워드 varchar(255))
    begin
    declare 사용자존재 int;
    select count(*) into 사용자존재
    from owner
    where email = 이메일 and password = 패스워드;
    if 사용자존재 > 0 then
        select '로그인 성공' as 메시지;
    else
        select '로그인 실패' as 메시지;
    end if;
    end
    // delimiter ;

```
#### <details> <summary><b>1. 회원가입 🔑</b></summary> <div markdown="1">



#### <details> <summary><b>1. 회원가입 🔑</b></summary> <div markdown="1">

